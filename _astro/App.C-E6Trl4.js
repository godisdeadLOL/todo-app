import{r as ci,a as u,R,g as ai,b as li}from"./index.DMn3Stj6.js";var nn={exports:{}},Qe={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var or;function ui(){if(or)return Qe;or=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,i){var s=null;if(i!==void 0&&(s=""+i),o.key!==void 0&&(s=""+o.key),"key"in o){i={};for(var c in o)c!=="key"&&(i[c]=o[c])}else i=o;return o=i.ref,{$$typeof:e,type:r,key:s,ref:o!==void 0?o:null,props:i}}return Qe.Fragment=t,Qe.jsx=n,Qe.jsxs=n,Qe}var ir;function di(){return ir||(ir=1,nn.exports=ui()),nn.exports}var h=di();const vn=["neutral","red","blue","green","yellow","purple"];function P(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var fi=typeof Symbol=="function"&&Symbol.observable||"@@observable",sr=fi,rn=()=>Math.random().toString(36).substring(7).split("").join("."),hi={INIT:`@@redux/INIT${rn()}`,REPLACE:`@@redux/REPLACE${rn()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${rn()}`},Dt=hi;function Tn(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Gr(e,t,n){if(typeof e!="function")throw new Error(P(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(P(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(P(1));return n(Gr)(e,t)}let r=e,o=t,i=new Map,s=i,c=0,a=!1;function l(){s===i&&(s=new Map,i.forEach((v,x)=>{s.set(x,v)}))}function d(){if(a)throw new Error(P(3));return o}function f(v){if(typeof v!="function")throw new Error(P(4));if(a)throw new Error(P(5));let x=!0;l();const C=c++;return s.set(C,v),function(){if(x){if(a)throw new Error(P(6));x=!1,l(),s.delete(C),i=null}}}function p(v){if(!Tn(v))throw new Error(P(7));if(typeof v.type>"u")throw new Error(P(8));if(typeof v.type!="string")throw new Error(P(17));if(a)throw new Error(P(9));try{a=!0,o=r(o,v)}finally{a=!1}return(i=s).forEach(C=>{C()}),v}function g(v){if(typeof v!="function")throw new Error(P(10));r=v,p({type:Dt.REPLACE})}function m(){const v=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(P(11));function C(){const w=x;w.next&&w.next(d())}return C(),{unsubscribe:v(C)}},[sr](){return this}}}return p({type:Dt.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:g,[sr]:m}}function pi(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Dt.INIT})>"u")throw new Error(P(12));if(typeof n(void 0,{type:Dt.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(P(13))})}function Ur(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const s=t[i];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let o;try{pi(n)}catch(i){o=i}return function(s={},c){if(o)throw o;let a=!1;const l={};for(let d=0;d<r.length;d++){const f=r[d],p=n[f],g=s[f],m=p(g,c);if(typeof m>"u")throw c&&c.type,new Error(P(14));l[f]=m,a=a||m!==g}return a=a||r.length!==Object.keys(s).length,a?l:s}}function kt(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function gi(...e){return t=>(n,r)=>{const o=t(n,r);let i=()=>{throw new Error(P(15))};const s={getState:o.getState,dispatch:(a,...l)=>i(a,...l)},c=e.map(a=>a(s));return i=kt(...c)(o.dispatch),{...o,dispatch:i}}}function vi(e){return Tn(e)&&"type"in e&&typeof e.type=="string"}var Xr=Symbol.for("immer-nothing"),cr=Symbol.for("immer-draftable"),U=Symbol.for("immer-state");function Z(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ze=Object.getPrototypeOf;function Ee(e){return!!e&&!!e[U]}function he(e){return e?qr(e)||Array.isArray(e)||!!e[cr]||!!e.constructor?.[cr]||Gt(e)||Ut(e):!1}var yi=Object.prototype.constructor.toString();function qr(e){if(!e||typeof e!="object")return!1;const t=ze(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===yi}function Rt(e,t){Wt(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Wt(e){const t=e[U];return t?t.type_:Array.isArray(e)?1:Gt(e)?2:Ut(e)?3:0}function yn(e,t){return Wt(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Vr(e,t,n){const r=Wt(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function mi(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Gt(e){return e instanceof Map}function Ut(e){return e instanceof Set}function _e(e){return e.copy_||e.base_}function mn(e,t){if(Gt(e))return new Map(e);if(Ut(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=qr(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[U];let o=Reflect.ownKeys(r);for(let i=0;i<o.length;i++){const s=o[i],c=r[s];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[s]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[s]})}return Object.create(ze(e),r)}else{const r=ze(e);if(r!==null&&n)return{...e};const o=Object.create(r);return Object.assign(o,e)}}function On(e,t=!1){return Xt(e)||Ee(e)||!he(e)||(Wt(e)>1&&(e.set=e.add=e.clear=e.delete=bi),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>On(r,!0))),e}function bi(){Z(2)}function Xt(e){return Object.isFrozen(e)}var xi={};function De(e){const t=xi[e];return t||Z(0,e),t}var ot;function Hr(){return ot}function wi(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ar(e,t){t&&(De("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function bn(e){xn(e),e.drafts_.forEach(Si),e.drafts_=null}function xn(e){e===ot&&(ot=e.parent_)}function lr(e){return ot=wi(ot,e)}function Si(e){const t=e[U];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ur(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[U].modified_&&(bn(t),Z(4)),he(e)&&(e=jt(t,e),t.parent_||It(t,e)),t.patches_&&De("Patches").generateReplacementPatches_(n[U].base_,e,t.patches_,t.inversePatches_)):e=jt(t,n,[]),bn(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Xr?e:void 0}function jt(e,t,n){if(Xt(t))return t;const r=t[U];if(!r)return Rt(t,(o,i)=>dr(e,r,t,o,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return It(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let i=o,s=!1;r.type_===3&&(i=new Set(o),o.clear(),s=!0),Rt(i,(c,a)=>dr(e,r,o,c,a,n,s)),It(e,o,!1),n&&e.patches_&&De("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function dr(e,t,n,r,o,i,s){if(Ee(o)){const c=i&&t&&t.type_!==3&&!yn(t.assigned_,r)?i.concat(r):void 0,a=jt(e,o,c);if(Vr(n,r,a),Ee(a))e.canAutoFreeze_=!1;else return}else s&&n.add(o);if(he(o)&&!Xt(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;jt(e,o),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&It(e,o)}}function It(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&On(t,n)}function Ci(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Hr(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=Nn;n&&(o=[r],i=it);const{revoke:s,proxy:c}=Proxy.revocable(o,i);return r.draft_=c,r.revoke_=s,c}var Nn={get(e,t){if(t===U)return e;const n=_e(e);if(!yn(n,t))return _i(e,n,t);const r=n[t];return e.finalized_||!he(r)?r:r===on(e.base_,t)?(sn(e),e.copy_[t]=Sn(r,e)):r},has(e,t){return t in _e(e)},ownKeys(e){return Reflect.ownKeys(_e(e))},set(e,t,n){const r=Kr(_e(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=on(_e(e),t),i=o?.[U];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(mi(n,o)&&(n!==void 0||yn(e.base_,t)))return!0;sn(e),wn(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return on(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,sn(e),wn(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=_e(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Z(11)},getPrototypeOf(e){return ze(e.base_)},setPrototypeOf(){Z(12)}},it={};Rt(Nn,(e,t)=>{it[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});it.deleteProperty=function(e,t){return it.set.call(this,e,t,void 0)};it.set=function(e,t,n){return Nn.set.call(this,e[0],t,n,e[0])};function on(e,t){const n=e[U];return(n?_e(n):e)[t]}function _i(e,t,n){const r=Kr(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function Kr(e,t){if(!(t in e))return;let n=ze(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ze(n)}}function wn(e){e.modified_||(e.modified_=!0,e.parent_&&wn(e.parent_))}function sn(e){e.copy_||(e.copy_=mn(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Ei=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const s=this;return function(a=i,...l){return s.produce(a,d=>n.call(this,d,...l))}}typeof n!="function"&&Z(6),r!==void 0&&typeof r!="function"&&Z(7);let o;if(he(t)){const i=lr(this),s=Sn(t,void 0);let c=!0;try{o=n(s),c=!1}finally{c?bn(i):xn(i)}return ar(i,r),ur(o,i)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===Xr&&(o=void 0),this.autoFreeze_&&On(o,!0),r){const i=[],s=[];De("Patches").generateReplacementPatches_(t,o,i,s),r(i,s)}return o}else Z(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...c)=>this.produceWithPatches(s,a=>t(a,...c));let r,o;return[this.produce(t,n,(s,c)=>{r=s,o=c}),r,o]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){he(e)||Z(8),Ee(e)&&(e=Di(e));const t=lr(this),n=Sn(e,void 0);return n[U].isManual_=!0,xn(t),n}finishDraft(e,t){const n=e&&e[U];(!n||!n.isManual_)&&Z(9);const{scope_:r}=n;return ar(r,t),ur(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const r=De("Patches").applyPatches_;return Ee(e)?r(e,t):this.produce(e,o=>r(o,t))}};function Sn(e,t){const n=Gt(e)?De("MapSet").proxyMap_(e,t):Ut(e)?De("MapSet").proxySet_(e,t):Ci(e,t);return(t?t.scope_:Hr()).drafts_.push(n),n}function Di(e){return Ee(e)||Z(10,e),Yr(e)}function Yr(e){if(!he(e)||Xt(e))return e;const t=e[U];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=mn(e,t.scope_.immer_.useStrictShallowCopy_)}else n=mn(e,!0);return Rt(n,(r,o)=>{Vr(n,r,Yr(o))}),t&&(t.finalized_=!1),n}var X=new Ei,Jr=X.produce;X.produceWithPatches.bind(X);X.setAutoFreeze.bind(X);X.setUseStrictShallowCopy.bind(X);X.applyPatches.bind(X);X.createDraft.bind(X);X.finishDraft.bind(X);function Qr(e){return({dispatch:n,getState:r})=>o=>i=>typeof i=="function"?i(n,r,e):o(i)}var ki=Qr(),Ri=Qr,ji=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?kt:kt.apply(null,arguments)};function fr(e,t){function n(...r){if(t){let o=t(...r);if(!o)throw new Error(fe(0));return{type:e,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>vi(r)&&r.type===e,n}var Zr=class et extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,et.prototype)}static get[Symbol.species](){return et}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new et(...t[0].concat(this)):new et(...t.concat(this))}};function hr(e){return he(e)?Jr(e,()=>{}):e}function bt(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Ii(e){return typeof e=="boolean"}var Ti=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:o=!0,actionCreatorCheck:i=!0}=t??{};let s=new Zr;return n&&(Ii(n)?s.push(ki):s.push(Ri(n.extraArgument))),s},Oi="RTK_autoBatch",pr=e=>t=>{setTimeout(t,e)},Ni=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let o=!0,i=!1,s=!1;const c=new Set,a=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:pr(10):e.type==="callback"?e.queueNotification:pr(e.timeout),l=()=>{s=!1,i&&(i=!1,c.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>o&&d(),p=r.subscribe(f);return c.add(d),()=>{p(),c.delete(d)}},dispatch(d){try{return o=!d?.meta?.[Oi],i=!o,i&&(s||(s=!0,a(l))),r.dispatch(d)}finally{o=!0}}})},Ai=e=>function(n){const{autoBatch:r=!0}=n??{};let o=new Zr(e);return r&&o.push(Ni(typeof r=="object"?r:void 0)),o};function Mi(e){const t=Ti(),{reducer:n=void 0,middleware:r,devTools:o=!0,preloadedState:i=void 0,enhancers:s=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(Tn(n))c=Ur(n);else throw new Error(fe(1));let a;typeof r=="function"?a=r(t):a=t();let l=kt;o&&(l=ji({trace:!1,...typeof o=="object"&&o}));const d=gi(...a),f=Ai(d);let p=typeof s=="function"?s(f):f();const g=l(...p);return Gr(c,i,g)}function eo(e){const t={},n=[];let r;const o={addCase(i,s){const c=typeof i=="string"?i:i.type;if(!c)throw new Error(fe(28));if(c in t)throw new Error(fe(29));return t[c]=s,o},addMatcher(i,s){return n.push({matcher:i,reducer:s}),o},addDefaultCase(i){return r=i,o}};return e(o),[t,n,r]}function Pi(e){return typeof e=="function"}function Li(e,t){let[n,r,o]=eo(t),i;if(Pi(e))i=()=>hr(e());else{const c=hr(e);i=()=>c}function s(c=i(),a){let l=[n[a.type],...r.filter(({matcher:d})=>d(a)).map(({reducer:d})=>d)];return l.filter(d=>!!d).length===0&&(l=[o]),l.reduce((d,f)=>{if(f)if(Ee(d)){const g=f(d,a);return g===void 0?d:g}else{if(he(d))return Jr(d,p=>f(p,a));{const p=f(d,a);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},c)}return s.getInitialState=i,s}var Bi="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",zi=(e=21)=>{let t="",n=e;for(;n--;)t+=Bi[Math.random()*64|0];return t},Fi=Symbol.for("rtk-slice-createasyncthunk");function $i(e,t){return`${e}/${t}`}function Wi({creators:e}={}){const t=e?.asyncThunk?.[Fi];return function(r){const{name:o,reducerPath:i=o}=r;if(!o)throw new Error(fe(11));const s=(typeof r.reducers=="function"?r.reducers(Ui()):r.reducers)||{},c=Object.keys(s),a={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},l={addCase(b,w){const S=typeof b=="string"?b:b.type;if(!S)throw new Error(fe(12));if(S in a.sliceCaseReducersByType)throw new Error(fe(13));return a.sliceCaseReducersByType[S]=w,l},addMatcher(b,w){return a.sliceMatchers.push({matcher:b,reducer:w}),l},exposeAction(b,w){return a.actionCreators[b]=w,l},exposeCaseReducer(b,w){return a.sliceCaseReducersByName[b]=w,l}};c.forEach(b=>{const w=s[b],S={reducerName:b,type:$i(o,b),createNotation:typeof r.reducers=="function"};qi(w)?Hi(S,w,l,t):Xi(S,w,l)});function d(){const[b={},w=[],S=void 0]=typeof r.extraReducers=="function"?eo(r.extraReducers):[r.extraReducers],D={...b,...a.sliceCaseReducersByType};return Li(r.initialState,E=>{for(let _ in D)E.addCase(_,D[_]);for(let _ of a.sliceMatchers)E.addMatcher(_.matcher,_.reducer);for(let _ of w)E.addMatcher(_.matcher,_.reducer);S&&E.addDefaultCase(S)})}const f=b=>b,p=new Map,g=new WeakMap;let m;function y(b,w){return m||(m=d()),m(b,w)}function v(){return m||(m=d()),m.getInitialState()}function x(b,w=!1){function S(E){let _=E[b];return typeof _>"u"&&w&&(_=bt(g,S,v)),_}function D(E=f){const _=bt(p,w,()=>new WeakMap);return bt(_,E,()=>{const T={};for(const[O,j]of Object.entries(r.selectors??{}))T[O]=Gi(j,E,()=>bt(g,E,v),w);return T})}return{reducerPath:b,getSelectors:D,get selectors(){return D(S)},selectSlice:S}}const C={name:o,reducer:y,actions:a.actionCreators,caseReducers:a.sliceCaseReducersByName,getInitialState:v,...x(i),injectInto(b,{reducerPath:w,...S}={}){const D=w??i;return b.inject({reducerPath:D,reducer:y},S),{...C,...x(D,!0)}}};return C}}function Gi(e,t,n,r){function o(i,...s){let c=t(i);return typeof c>"u"&&r&&(c=n()),e(c,...s)}return o.unwrapped=e,o}var to=Wi();function Ui(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Xi({type:e,reducerName:t,createNotation:n},r,o){let i,s;if("reducer"in r){if(n&&!Vi(r))throw new Error(fe(17));i=r.reducer,s=r.prepare}else i=r;o.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?fr(e,s):fr(e))}function qi(e){return e._reducerDefinitionType==="asyncThunk"}function Vi(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Hi({type:e,reducerName:t},n,r,o){if(!o)throw new Error(fe(18));const{payloadCreator:i,fulfilled:s,pending:c,rejected:a,settled:l,options:d}=n,f=o(e,i,d);r.exposeAction(t,f),s&&r.addCase(f.fulfilled,s),c&&r.addCase(f.pending,c),a&&r.addCase(f.rejected,a),l&&r.addMatcher(f.settled,l),r.exposeCaseReducer(t,{fulfilled:s||xt,pending:c||xt,rejected:a||xt,settled:l||xt})}function xt(){}function fe(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const Ki=[],no=to({name:"tags",initialState:Ki,reducers:{addTag:{reducer(e,t){const n=t.payload;e.push({...n,content:n.content?n.content:`Новый тег ${e.length+1}`})},prepare(e=void 0){return{payload:{id:zi(),content:e??"",color:vn[Math.floor(Math.random()*vn.length)]}}}},updateTag(e,t){const n=t.payload;return e.map(r=>r.id===n.id?{...r,...n}:r)},deleteTag(e,t){const n=t.payload;return e.filter(r=>r.id!==n)},reorderTag(e,t){const{fromId:n,toId:r}=t.payload,o=e.findIndex(c=>c.id===n),i=e.findIndex(c=>c.id===r),[s]=e.splice(o,1);e.splice(i,0,s)}}}),{addTag:Yi,deleteTag:Ji,updateTag:gr,reorderTag:Qi}=no.actions,Zi=no.reducer,es="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let vr=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=es[n[e]&63];return t};const ts=[{id:"todo",title:"Сделать",todos:[],color:"blue"},{id:"progress",title:"В процессе",todos:[],color:"yellow"},{id:"completed",title:"Завершены",todos:[],color:"green"}],ro=to({name:"todos",initialState:ts,reducers:{addTodo:{reducer(e,t){const{groupId:n,todo:r}=t.payload;e.find(i=>i.id===n).todos.push(r)},prepare(e){return{payload:{groupId:e,todo:{id:vr(),title:"Новая задача",content:"",createdAt:new Date().toISOString(),steps:[],tagIds:[]}}}}},updateTodo(e,t){const{groupId:n,todo:r}=t.payload,o=e.find(i=>i.id===n);o.todos=o.todos.map(i=>i.id===r.id?{...i,...r}:i)},deleteTodo(e,t){const{groupId:n,todoId:r}=t.payload,o=e.find(i=>i.id===n);o.todos=o.todos.filter(i=>i.id!==r)},reorderTodo(e,t){const{fromGroupId:n,fromTodoId:r,toGroupId:o,toTodoId:i,mode:s}=t.payload,c=e.find(p=>p.id===n),a=e.find(p=>p.id===o),l=c.todos.findIndex(p=>p.id===r),d=i?a.todos.findIndex(p=>p.id===i):s==="prepend"?0:a.todos.length,[f]=c.todos.splice(l,1);a.todos.splice(d,0,f)},addTodoStep:{reducer(e,t){const{groupId:n,todoId:r,step:o}=t.payload;e.find(c=>c.id===n).todos.find(c=>c.id===r).steps.push(o)},prepare(e,t){return{payload:{groupId:e,todoId:t,step:{id:vr(),content:"Новый шаг",checked:!1}}}}},updateTodoStep(e,t){const{groupId:n,todoId:r,step:o}=t.payload,s=e.find(c=>c.id===n).todos.find(c=>c.id===r);s.steps=s.steps.map(c=>c.id===o.id?{...c,...o}:c)},deleteTodoStep(e,t){const{groupId:n,todoId:r,stepId:o}=t.payload,s=e.find(c=>c.id===n).todos.find(c=>c.id===r);s.steps=s.steps.filter(c=>c.id!==o)},reorderTodoStep(e,t){const{groupId:n,todoId:r,fromId:o,toId:i}=t.payload,c=e.find(f=>f.id===n).todos.find(f=>f.id===r),a=c.steps.findIndex(f=>f.id===o),l=c.steps.findIndex(f=>f.id===i),[d]=c.steps.splice(a,1);c.steps.splice(l,0,d)},toggleTodoTag(e,t){const{groupId:n,todoId:r,tagId:o}=t.payload,s=e.find(a=>a.id===n).todos.find(a=>a.id===r);!!s.tagIds.includes(o)?s.tagIds=s.tagIds.filter(a=>a!==o):s.tagIds.push(o)}}}),{addTodo:ns,updateTodo:yr,deleteTodo:rs,reorderTodo:Cn,addTodoStep:os,updateTodoStep:mr,deleteTodoStep:is,reorderTodoStep:ss,toggleTodoTag:oo}=ro.actions,cs=ro.reducer;function as(e){try{const t=localStorage.getItem(e);return t?JSON.parse(t):void 0}catch{return}}async function ls(e,t){try{const n=JSON.stringify(t);localStorage.setItem(e,n)}catch{}}const us=[{id:"todo",title:"Сделать",todos:[{id:"task1",title:"Настроить проект",content:"Создать структуру проекта и инициализировать Git репозиторий",createdAt:"2025-07-27T12:30:00.000Z",steps:[{id:"s1",content:"Создать папку проекта",checked:!1},{id:"s2",content:"Инициализировать npm",checked:!1},{id:"s3",content:"Настроить Git репозиторий",checked:!1}],tagIds:["tag1","tag2"]},{id:"task2",title:"Сверстать главную страницу",content:"Сделать адаптивную верстку для desktop и mobile",createdAt:"2025-07-27T12:31:00.000Z",steps:[{id:"s4",content:"Подключить Tailwind CSS",checked:!1},{id:"s5",content:"Создать layout",checked:!1},{id:"s6",content:"Настроить адаптивность",checked:!1}],tagIds:["tag2","tag3"]}],color:"blue"},{id:"progress",title:"В процессе",todos:[{id:"task3",title:"Настроить роутинг",content:"Добавить маршруты для страниц и навигацию",createdAt:"2025-07-27T12:32:00.000Z",steps:[{id:"s7",content:"Установить React Router",checked:!0},{id:"s8",content:"Создать маршруты для страниц",checked:!0},{id:"s9",content:"Сделать навигационное меню",checked:!1}],tagIds:["tag1","tag4"]}],color:"yellow"},{id:"completed",title:"Завершены",todos:[{id:"task4",title:"Настроить ESLint и Prettier",content:"Автоматизировать проверку кода и форматирование",createdAt:"2025-07-27T12:33:00.000Z",steps:[{id:"s10",content:"Установить ESLint и плагины",checked:!0},{id:"s11",content:"Настроить Prettier",checked:!0},{id:"s12",content:"Добавить скрипты в package.json",checked:!0}],tagIds:["tag1","tag5"]},{id:"task5",title:"Создать компонент Header",content:"Сделать верхнюю панель с логотипом и меню",createdAt:"2025-07-27T12:34:00.000Z",steps:[{id:"s13",content:"Создать компонент Header.jsx",checked:!0},{id:"s14",content:"Добавить логотип и навигацию",checked:!0},{id:"s15",content:"Стилизация с помощью Tailwind",checked:!0}],tagIds:["tag2","tag3"]}],color:"green"}],ds=[{id:"tag1",content:"Настройка проекта",color:"blue"},{id:"tag2",content:"Верстка",color:"green"},{id:"tag3",content:"UI",color:"purple"},{id:"tag4",content:"Роутинг",color:"yellow"},{id:"tag5",content:"Код-стайл",color:"red"}],fs={todos:us,tags:ds},hs=Ur({todos:cs,tags:Zi}),_n=Mi({reducer:hs,preloadedState:as("redux")??fs});_n.subscribe(()=>{ls("redux",_n.getState())});const ps="_todoGroupList_15rwa_1",gs={todoGroupList:ps};var cn={exports:{}},an={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var br;function vs(){if(br)return an;br=1;var e=ci();function t(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,o=e.useRef,i=e.useEffect,s=e.useMemo,c=e.useDebugValue;return an.useSyncExternalStoreWithSelector=function(a,l,d,f,p){var g=o(null);if(g.current===null){var m={hasValue:!1,value:null};g.current=m}else m=g.current;g=s(function(){function v(S){if(!x){if(x=!0,C=S,S=f(S),p!==void 0&&m.hasValue){var D=m.value;if(p(D,S))return b=D}return b=S}if(D=b,n(C,S))return D;var E=f(S);return p!==void 0&&p(D,E)?(C=S,D):(C=S,b=E)}var x=!1,C,b,w=d===void 0?null:d;return[function(){return v(l())},w===null?void 0:function(){return v(w())}]},[l,d,f,p]);var y=r(a,g[0],g[1]);return i(function(){m.hasValue=!0,m.value=y},[y]),c(y),y},an}var xr;function ys(){return xr||(xr=1,cn.exports=vs()),cn.exports}var ms=ys();function bs(e){e()}function xs(){let e=null,t=null;return{clear(){e=null,t=null},notify(){bs(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const o=t={callback:n,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!r||e===null||(r=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var wr={notify(){},get:()=>[]};function ws(e,t){let n,r=wr,o=0,i=!1;function s(y){d();const v=r.subscribe(y);let x=!1;return()=>{x||(x=!0,v(),f())}}function c(){r.notify()}function a(){m.onStateChange&&m.onStateChange()}function l(){return i}function d(){o++,n||(n=e.subscribe(a),r=xs())}function f(){o--,n&&o===0&&(n(),n=void 0,r.clear(),r=wr)}function p(){i||(i=!0,d())}function g(){i&&(i=!1,f())}const m={addNestedSub:s,notifyNestedSubs:c,handleChangeWrapper:a,isSubscribed:l,trySubscribe:p,tryUnsubscribe:g,getListeners:()=>r};return m}var Ss=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cs=Ss(),_s=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Es=_s(),Ds=()=>Cs||Es?u.useLayoutEffect:u.useEffect,ks=Ds(),Rs=Symbol.for("react-redux-context"),js=typeof globalThis<"u"?globalThis:{};function Is(){if(!u.createContext)return{};const e=js[Rs]??=new Map;let t=e.get(u.createContext);return t||(t=u.createContext(null),e.set(u.createContext,t)),t}var we=Is();function Ts(e){const{children:t,context:n,serverState:r,store:o}=e,i=u.useMemo(()=>{const a=ws(o);return{store:o,subscription:a,getServerState:r?()=>r:void 0}},[o,r]),s=u.useMemo(()=>o.getState(),[o]);ks(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==o.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const c=n||we;return u.createElement(c.Provider,{value:i},t)}var Os=Ts;function An(e=we){return function(){return u.useContext(e)}}var io=An();function so(e=we){const t=e===we?io:An(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var Ns=so();function As(e=we){const t=e===we?Ns:so(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Ms=As(),Ps=(e,t)=>e===t;function Ls(e=we){const t=e===we?io:An(e),n=(r,o={})=>{const{equalityFn:i=Ps}=typeof o=="function"?{equalityFn:o}:o,s=t(),{store:c,subscription:a,getServerState:l}=s;u.useRef(!0);const d=u.useCallback({[r.name](p){return r(p)}}[r.name],[r]),f=ms.useSyncExternalStoreWithSelector(a.addNestedSub,c.getState,l||c.getState,d,i);return u.useDebugValue(f),f};return Object.assign(n,{withTypes:()=>n}),n}var Bs=Ls();const Se=Ms.withTypes(),qt=Bs.withTypes(),zs="_card_1seyz_1",Fs="_headerBlock_1seyz_13",$s="_detailsBlock_1seyz_22",Ws="_todoStepsBlock_1seyz_25",Gs="_tagsBlock_1seyz_31",Us="_titleField_1seyz_38",Me={card:zs,headerBlock:Fs,detailsBlock:$s,todoStepsBlock:Ws,tagsBlock:Gs,titleField:Us};function Tt({onValueUpdate:e,value:t,required:n=!1,element:r}){const[o,i]=u.useState(!1),[s,c]=u.useState(t);return u.useEffect(()=>{o||c(t)},[t,o]),r(s,()=>{i(!0)},f=>{const p=f.target;c(p.value)},()=>{(!n||s)&&e(s),i(!1)})}var co={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Sr=R.createContext&&R.createContext(co),Xs=["attr","size","title"];function qs(e,t){if(e==null)return{};var n=Vs(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Vs(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ot(){return Ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ot.apply(this,arguments)}function Cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cr(Object(n),!0).forEach(function(r){Hs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cr(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hs(e,t,n){return t=Ks(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ks(e){var t=Ys(e,"string");return typeof t=="symbol"?t:t+""}function Ys(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ao(e){return e&&e.map((t,n)=>R.createElement(t.tag,Nt({key:n},t.attr),ao(t.child)))}function q(e){return t=>R.createElement(Js,Ot({attr:Nt({},e.attr)},t),ao(e.child))}function Js(e){var t=n=>{var{attr:r,size:o,title:i}=e,s=qs(e,Xs),c=o||n.size||"1em",a;return n.className&&(a=n.className),e.className&&(a=(a?a+" ":"")+e.className),R.createElement("svg",Ot({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:a,style:Nt(Nt({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&R.createElement("title",null,i),e.children)};return Sr!==void 0?R.createElement(Sr.Consumer,null,n=>t(n)):t(co)}function Qs(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m12 19-7-7 7-7"},child:[]},{tag:"path",attr:{d:"M19 12H5"},child:[]}]})(e)}function Zs(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]},{tag:"path",attr:{d:"m12 5 7 7-7 7"},child:[]}]})(e)}function lo(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m6 9 6 6 6-6"},child:[]}]})(e)}function uo(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m18 15-6-6-6 6"},child:[]}]})(e)}function ec(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"5",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"1"},child:[]}]})(e)}function tc(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"9",cy:"5",r:"1"},child:[]},{tag:"circle",attr:{cx:"9",cy:"19",r:"1"},child:[]},{tag:"circle",attr:{cx:"15",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"15",cy:"5",r:"1"},child:[]},{tag:"circle",attr:{cx:"15",cy:"19",r:"1"},child:[]}]})(e)}function nc(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"5",r:"1"},child:[]},{tag:"circle",attr:{cx:"19",cy:"5",r:"1"},child:[]},{tag:"circle",attr:{cx:"5",cy:"5",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"19",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"5",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"1"},child:[]},{tag:"circle",attr:{cx:"19",cy:"19",r:"1"},child:[]},{tag:"circle",attr:{cx:"5",cy:"19",r:"1"},child:[]}]})(e)}function fo(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]}]})(e)}function at(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]},{tag:"path",attr:{d:"M12 5v14"},child:[]}]})(e)}function rc(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"path",attr:{d:"m21 21-4.3-4.3"},child:[]}]})(e)}function oc(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19"},child:[]},{tag:"path",attr:{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z"},child:[]},{tag:"circle",attr:{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor"},child:[]}]})(e)}function ho(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 6h18"},child:[]},{tag:"path",attr:{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"},child:[]},{tag:"path",attr:{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"},child:[]}]})(e)}function Mn(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 6 6 18"},child:[]},{tag:"path",attr:{d:"m6 6 12 12"},child:[]}]})(e)}var ln={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var _r;function ic(){return _r||(_r=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i="",s=0;s<arguments.length;s++){var c=arguments[s];c&&(i=o(i,r(c)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var s="";for(var c in i)t.call(i,c)&&i[c]&&(s=o(s,c));return s}function o(i,s){return s?i?i+" "+s:i+s:i}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(ln)),ln.exports}var sc=ic();const V=ai(sc),cc="_fieldWrapper_8j9y4_1",ac="_field_8j9y4_1",lc="_label_8j9y4_8",uc="_small_8j9y4_58",dc="_plainable_8j9y4_63",Ze={fieldWrapper:cc,field:ac,label:lc,small:uc,plainable:dc};function At({label:e,fallback:t,small:n=!1,plainable:r=!1,allowMultiline:o=!1,value:i,onChange:s,className:c,...a}){const l=g=>{g.style.height="auto",g.style.height=`${g.scrollHeight}px`},d=g=>{l(g.target),s?.(g)},f=g=>{g.key==="Enter"&&(!g.shiftKey||!o)&&(g.target.blur(),g.preventDefault())},p=u.useRef(null);return u.useEffect(()=>{p.current&&l(p.current)},[i]),u.useEffect(()=>{const g=()=>{p.current&&l(p.current)};return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[p.current]),h.jsxs("div",{className:V(c,Ze.fieldWrapper,n?Ze.small:"",r?Ze.plainable:""),children:[h.jsx("textarea",{onKeyDown:f,rows:1,value:i,onChange:d,ref:p,placeholder:t??" ",spellCheck:!1,className:Ze.field,...a}),e&&h.jsx("div",{className:Ze.label,children:e??""})]})}const fc="_expandable_10z7l_1",hc={expandable:fc};function po({expanded:e=!0,className:t,children:n}){const[r,o]=u.useState(e),i=u.useRef(null);return u.useEffect(()=>{if(e&&o(!0),!i.current)return;const s=()=>{e||o(!1)},c=i.current;return c.addEventListener("transitionend",s),()=>c.removeEventListener("transitionend",s)},[e]),h.jsx("div",{ref:i,"data-expanded":e,className:V(hc.expandable,t),children:r&&n})}const pc="_iconButton_pvdjo_1",gc={iconButton:pc};function Fe({className:e,children:t,...n}){return h.jsx("button",{className:V(e,gc.iconButton),...n,children:t})}function Pn({toogled:e,elementOn:t,elementOff:n,...r}){return h.jsx(Fe,{...r,children:e?t:n})}const vc="_tagStack_6ysgc_1",yc="_tagsEditButton_6ysgc_8",Er={tagStack:vc,tagsEditButton:yc},mc="_tagsBlock_miwfw_1",bc="_tagsStack_miwfw_12",xc="_tagsEditListFallback_miwfw_18",En={tagsBlock:mc,tagsStack:bc,tagsEditListFallback:xc},wc="_dialogWrapper_l6rtq_1",Sc="_backdrop_l6rtq_9",Cc="_positioner_l6rtq_17",_c="_dialog_l6rtq_1",Ec="_headerBlock_l6rtq_51",Dc="_contentBlock_l6rtq_65",Pe={dialogWrapper:wc,backdrop:Sc,positioner:Cc,dialog:_c,headerBlock:Ec,contentBlock:Dc};var Le=li();function Ln(e){const t=u.useRef(null);return u.useEffect(()=>{const n=r=>{if(!t.current)return;const{pageX:o,pageY:i}=r,c=t.current.getBoundingClientRect();o>c.left&&o<c.right&&i>c.top&&i<c.bottom||e?.()};return window.addEventListener("mousedown",n),()=>window.removeEventListener("mousedown",n)},[]),t}function go({open:e,setOpen:t,triggerElement:n,title:r,className:o,children:i}){const[s,c]=u.useState(!1),a=e??s,l=t??c,d=document.getElementById("dialog-root"),f=Ln(()=>l(!1));return h.jsxs(h.Fragment,{children:[n?.(()=>l(!0)),a&&Le.createPortal(h.jsxs("div",{className:Pe.dialogWrapper,children:[h.jsx("div",{className:Pe.backdrop}),h.jsx("div",{className:Pe.positioner,children:h.jsxs("div",{className:V(Pe.dialog,o),ref:f,children:[h.jsxs("div",{className:Pe.headerBlock,children:[h.jsx("h1",{children:r}),h.jsx(Fe,{onClick:()=>l(!1),children:h.jsx(Mn,{})})]}),h.jsx("div",{className:Pe.contentBlock,children:i})]})})]}),d)]})}const kc="_editableTagDisplay_qgte0_1",Rc="_contentField_qgte0_17",Dr={editableTagDisplay:kc,contentField:Rc},jc="_colorItem_19h41_1",Ic="_colorPicker_19h41_52",Tc="_menu_19h41_62",Dn={colorItem:jc,colorPicker:Ic,menu:Tc};function kr({color:e,className:t,...n}){return h.jsx("button",{className:V(Dn.colorItem,t,e),...n})}function Oc({value:e,onChange:t}){const[n,r]=u.useState(!1),o=Ln(()=>r(!1)),i=s=>{t(s),r(!1)};return h.jsxs("div",{className:Dn.colorPicker,children:[h.jsx(kr,{color:e,onClick:()=>r(!0)}),n&&h.jsx("div",{ref:o,className:Dn.menu,children:vn.map(s=>h.jsx(kr,{"data-selected":s===e,onClick:()=>i(s),color:s},s))})]})}const Nc="_button_1cfx3_1",Ac={button:Nc};function Mt({className:e,children:t,...n}){return h.jsx("button",{className:V(Ac.button,e),...n,children:t})}const Mc="_buttonsBlock_oj3ry_1",Rr={buttonsBlock:Mc};function vo({open:e,setOpen:t,onConfirm:n,title:r,message:o,triggerElement:i}){const[s,c]=u.useState(!1),a=e??s,l=t??c,d=()=>{n(),l(!1)};return h.jsxs(go,{open:a,setOpen:l,title:r,triggerElement:i,children:[h.jsx("div",{className:Rr.messageBlock,children:o}),h.jsxs("div",{className:Rr.buttonsBlock,children:[h.jsx(Mt,{onClick:d,children:"Подтвердить"}),h.jsx(Mt,{onClick:()=>l(!1),children:"Отмена"})]})]})}const yo=u.createContext(void 0);function mo({children:e,todoData:t}){return h.jsxs(yo.Provider,{value:t,children:[" ",e," "]})}function ke(){return u.useContext(yo)}const bo=u.createContext(void 0);function jr({children:e,groupData:t}){return h.jsxs(bo.Provider,{value:t,children:[" ",e," "]})}function Re(){return u.useContext(bo)}const Pc="_gripHandle_ao34f_1",Lc={gripHandle:Pc},Bn=u.forwardRef(({variant:e="vertical",...t},n)=>h.jsxs("div",{className:Lc.gripHandle,ref:n,...t,children:[e==="vertical"&&h.jsx(tc,{}),e==="all"&&h.jsx(nc,{})]}));function Bc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const Vt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function $e(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function zn(e){return"nodeType"in e}function B(e){var t,n;return e?$e(e)?e:zn(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Fn(e){const{Document:t}=B(e);return e instanceof t}function lt(e){return $e(e)?!1:e instanceof B(e).HTMLElement}function xo(e){return e instanceof B(e).SVGElement}function We(e){return e?$e(e)?e.document:zn(e)?Fn(e)?e:lt(e)||xo(e)?e.ownerDocument:document:document:document}const ee=Vt?u.useLayoutEffect:u.useEffect;function Ht(e){const t=u.useRef(e);return ee(()=>{t.current=e}),u.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function zc(){const e=u.useRef(null),t=u.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=u.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function st(e,t){t===void 0&&(t=[e]);const n=u.useRef(e);return ee(()=>{n.current!==e&&(n.current=e)},t),n}function ut(e,t){const n=u.useRef();return u.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Pt(e){const t=Ht(e),n=u.useRef(null),r=u.useCallback(o=>{o!==n.current&&t?.(o,n.current),n.current=o},[]);return[n,r]}function Lt(e){const t=u.useRef();return u.useEffect(()=>{t.current=e},[e]),t.current}let un={};function dt(e,t){return u.useMemo(()=>{if(t)return t;const n=un[e]==null?0:un[e]+1;return un[e]=n,e+"-"+n},[e,t])}function wo(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,s)=>{const c=Object.entries(s);for(const[a,l]of c){const d=i[a];d!=null&&(i[a]=d+e*l)}return i},{...t})}}const Be=wo(1),Bt=wo(-1);function Fc(e){return"clientX"in e&&"clientY"in e}function Kt(e){if(!e)return!1;const{KeyboardEvent:t}=B(e.target);return t&&e instanceof t}function $c(e){if(!e)return!1;const{TouchEvent:t}=B(e.target);return t&&e instanceof t}function zt(e){if($c(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Fc(e)?{x:e.clientX,y:e.clientY}:null}const se=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[se.Translate.toString(e),se.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Ir="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Wc(e){return e.matches(Ir)?e:e.querySelector(Ir)}const Gc={display:"none"};function Uc(e){let{id:t,value:n}=e;return R.createElement("div",{id:t,style:Gc},n)}function Xc(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return R.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function qc(){const[e,t]=u.useState("");return{announce:u.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const So=u.createContext(null);function Vc(e){const t=u.useContext(So);u.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Hc(){const[e]=u.useState(()=>new Set),t=u.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[u.useCallback(r=>{let{type:o,event:i}=r;e.forEach(s=>{var c;return(c=s[o])==null?void 0:c.call(s,i)})},[e]),t]}const Kc={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Yc={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Jc(e){let{announcements:t=Yc,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=Kc}=e;const{announce:i,announcement:s}=qc(),c=dt("DndLiveRegion"),[a,l]=u.useState(!1);if(u.useEffect(()=>{l(!0)},[]),Vc(u.useMemo(()=>({onDragStart(f){let{active:p}=f;i(t.onDragStart({active:p}))},onDragMove(f){let{active:p,over:g}=f;t.onDragMove&&i(t.onDragMove({active:p,over:g}))},onDragOver(f){let{active:p,over:g}=f;i(t.onDragOver({active:p,over:g}))},onDragEnd(f){let{active:p,over:g}=f;i(t.onDragEnd({active:p,over:g}))},onDragCancel(f){let{active:p,over:g}=f;i(t.onDragCancel({active:p,over:g}))}}),[i,t])),!a)return null;const d=R.createElement(R.Fragment,null,R.createElement(Uc,{id:r,value:o.draggable}),R.createElement(Xc,{id:c,announcement:s}));return n?Le.createPortal(d,n):d}var N;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(N||(N={}));function Ft(){}const te=Object.freeze({x:0,y:0});function Qc(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Zc(e,t){const n=zt(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function ea(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function ta(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function na(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function ra(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function oa(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=o-r,c=i-n;if(r<o&&n<i){const a=t.width*t.height,l=e.width*e.height,d=s*c,f=d/(a+l-d);return Number(f.toFixed(4))}return 0}const ia=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const i of r){const{id:s}=i,c=n.get(s);if(c){const a=oa(c,t);a>0&&o.push({id:s,data:{droppableContainer:i,value:a}})}}return o.sort(ta)};function sa(e,t){const{top:n,left:r,bottom:o,right:i}=t;return n<=e.y&&e.y<=o&&r<=e.x&&e.x<=i}const ca=e=>{let{droppableContainers:t,droppableRects:n,pointerCoordinates:r}=e;if(!r)return[];const o=[];for(const i of t){const{id:s}=i,c=n.get(s);if(c&&sa(r,c)){const l=na(c).reduce((f,p)=>f+Qc(r,p),0),d=Number((l/4).toFixed(4));o.push({id:s,data:{droppableContainer:i,value:d}})}}return o.sort(ea)};function aa(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Co(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:te}function la(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((s,c)=>({...s,top:s.top+e*c.y,bottom:s.bottom+e*c.y,left:s.left+e*c.x,right:s.right+e*c.x}),{...n})}}const ua=la(1);function _o(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function da(e,t,n){const r=_o(t);if(!r)return e;const{scaleX:o,scaleY:i,x:s,y:c}=r,a=e.left-s-(1-o)*parseFloat(n),l=e.top-c-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=o?e.width/o:e.width,f=i?e.height/i:e.height;return{width:d,height:f,top:l,right:a+d,bottom:l+f,left:a}}const fa={ignoreTransform:!1};function Ge(e,t){t===void 0&&(t=fa);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:l,transformOrigin:d}=B(e).getComputedStyle(e);l&&(n=da(n,l,d))}const{top:r,left:o,width:i,height:s,bottom:c,right:a}=n;return{top:r,left:o,width:i,height:s,bottom:c,right:a}}function Tr(e){return Ge(e,{ignoreTransform:!0})}function ha(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function pa(e,t){return t===void 0&&(t=B(e).getComputedStyle(e)),t.position==="fixed"}function ga(e,t){t===void 0&&(t=B(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=t[o];return typeof i=="string"?n.test(i):!1})}function $n(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(Fn(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!lt(o)||xo(o)||n.includes(o))return n;const i=B(e).getComputedStyle(o);return o!==e&&ga(o,i)&&n.push(o),pa(o,i)?n:r(o.parentNode)}return e?r(e):n}function Eo(e){const[t]=$n(e,1);return t??null}function dn(e){return!Vt||!e?null:$e(e)?e:zn(e)?Fn(e)||e===We(e).scrollingElement?window:lt(e)?e:null:null}function Do(e){return $e(e)?e.scrollX:e.scrollLeft}function ko(e){return $e(e)?e.scrollY:e.scrollTop}function kn(e){return{x:Do(e),y:ko(e)}}var A;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(A||(A={}));function Ro(e){return!Vt||!e?!1:e===document.scrollingElement}function jo(e){const t={x:0,y:0},n=Ro(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,c=e.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:s,isRight:c,maxScroll:r,minScroll:t}}const va={x:.2,y:.2};function ya(e,t,n,r,o){let{top:i,left:s,right:c,bottom:a}=n;r===void 0&&(r=10),o===void 0&&(o=va);const{isTop:l,isBottom:d,isLeft:f,isRight:p}=jo(e),g={x:0,y:0},m={x:0,y:0},y={height:t.height*o.y,width:t.width*o.x};return!l&&i<=t.top+y.height?(g.y=A.Backward,m.y=r*Math.abs((t.top+y.height-i)/y.height)):!d&&a>=t.bottom-y.height&&(g.y=A.Forward,m.y=r*Math.abs((t.bottom-y.height-a)/y.height)),!p&&c>=t.right-y.width?(g.x=A.Forward,m.x=r*Math.abs((t.right-y.width-c)/y.width)):!f&&s<=t.left+y.width&&(g.x=A.Backward,m.x=r*Math.abs((t.left+y.width-s)/y.width)),{direction:g,speed:m}}function ma(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function Io(e){return e.reduce((t,n)=>Be(t,kn(n)),te)}function ba(e){return e.reduce((t,n)=>t+Do(n),0)}function xa(e){return e.reduce((t,n)=>t+ko(n),0)}function To(e,t){if(t===void 0&&(t=Ge),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);Eo(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const wa=[["x",["left","right"],ba],["y",["top","bottom"],xa]];class Wn{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=$n(n),o=Io(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,s,c]of wa)for(const a of s)Object.defineProperty(this,a,{get:()=>{const l=c(r),d=o[i]-l;return this.rect[a]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class tt{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Sa(e){const{EventTarget:t}=B(e);return e instanceof t?e:We(e)}function fn(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Y;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Y||(Y={}));function Or(e){e.preventDefault()}function Ca(e){e.stopPropagation()}var k;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(k||(k={}));const Oo={start:[k.Space,k.Enter],cancel:[k.Esc],end:[k.Space,k.Enter,k.Tab]},_a=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case k.Right:return{...n,x:n.x+25};case k.Left:return{...n,x:n.x-25};case k.Down:return{...n,y:n.y+25};case k.Up:return{...n,y:n.y-25}}};class No{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new tt(We(n)),this.windowListeners=new tt(B(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Y.Resize,this.handleCancel),this.windowListeners.add(Y.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Y.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&To(r),n(te)}handleKeyDown(t){if(Kt(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:i=Oo,coordinateGetter:s=_a,scrollBehavior:c="smooth"}=o,{code:a}=t;if(i.end.includes(a)){this.handleEnd(t);return}if(i.cancel.includes(a)){this.handleCancel(t);return}const{collisionRect:l}=r.current,d=l?{x:l.left,y:l.top}:te;this.referenceCoordinates||(this.referenceCoordinates=d);const f=s(t,{active:n,context:r.current,currentCoordinates:d});if(f){const p=Bt(f,d),g={x:0,y:0},{scrollableAncestors:m}=r.current;for(const y of m){const v=t.code,{isTop:x,isRight:C,isLeft:b,isBottom:w,maxScroll:S,minScroll:D}=jo(y),E=ma(y),_={x:Math.min(v===k.Right?E.right-E.width/2:E.right,Math.max(v===k.Right?E.left:E.left+E.width/2,f.x)),y:Math.min(v===k.Down?E.bottom-E.height/2:E.bottom,Math.max(v===k.Down?E.top:E.top+E.height/2,f.y))},T=v===k.Right&&!C||v===k.Left&&!b,O=v===k.Down&&!w||v===k.Up&&!x;if(T&&_.x!==f.x){const j=y.scrollLeft+p.x,J=v===k.Right&&j<=S.x||v===k.Left&&j>=D.x;if(J&&!p.y){y.scrollTo({left:j,behavior:c});return}J?g.x=y.scrollLeft-j:g.x=v===k.Right?y.scrollLeft-S.x:y.scrollLeft-D.x,g.x&&y.scrollBy({left:-g.x,behavior:c});break}else if(O&&_.y!==f.y){const j=y.scrollTop+p.y,J=v===k.Down&&j<=S.y||v===k.Up&&j>=D.y;if(J&&!p.x){y.scrollTo({top:j,behavior:c});return}J?g.y=y.scrollTop-j:g.y=v===k.Down?y.scrollTop-S.y:y.scrollTop-D.y,g.y&&y.scrollBy({top:-g.y,behavior:c});break}}this.handleMove(t,Be(Bt(f,this.referenceCoordinates),g))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}No.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Oo,onActivation:o}=t,{active:i}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const c=i.activatorNode.current;return c&&e.target!==c?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function Nr(e){return!!(e&&"distance"in e)}function Ar(e){return!!(e&&"delay"in e)}class Gn{constructor(t,n,r){var o;r===void 0&&(r=Sa(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:s}=i;this.props=t,this.events=n,this.document=We(s),this.documentListeners=new tt(this.document),this.listeners=new tt(r),this.windowListeners=new tt(B(s)),this.initialCoordinates=(o=zt(i))!=null?o:te,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Y.Resize,this.handleCancel),this.windowListeners.add(Y.DragStart,Or),this.windowListeners.add(Y.VisibilityChange,this.handleCancel),this.windowListeners.add(Y.ContextMenu,Or),this.documentListeners.add(Y.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Ar(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Nr(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Y.Click,Ca,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Y.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:i}=this,{onMove:s,options:{activationConstraint:c}}=i;if(!o)return;const a=(n=zt(t))!=null?n:te,l=Bt(o,a);if(!r&&c){if(Nr(c)){if(c.tolerance!=null&&fn(l,c.tolerance))return this.handleCancel();if(fn(l,c.distance))return this.handleStart()}if(Ar(c)&&fn(l,c.tolerance))return this.handleCancel();this.handlePending(c,l);return}t.cancelable&&t.preventDefault(),s(a)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===k.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Ea={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ao extends Gn{constructor(t){const{event:n}=t,r=We(n.target);super(t,Ea,r)}}Ao.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const Da={move:{name:"mousemove"},end:{name:"mouseup"}};var Rn;(function(e){e[e.RightClick=2]="RightClick"})(Rn||(Rn={}));class ka extends Gn{constructor(t){super(t,Da,We(t.event.target))}}ka.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Rn.RightClick?!1:(r?.({event:n}),!0)}}];const hn={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Ra extends Gn{constructor(t){super(t,hn)}static setup(){return window.addEventListener(hn.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(hn.move.name,t)};function t(){}}}Ra.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r?.({event:n}),!0)}}];var nt;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(nt||(nt={}));var $t;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})($t||($t={}));function ja(e){let{acceleration:t,activator:n=nt.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:s=5,order:c=$t.TreeOrder,pointerCoordinates:a,scrollableAncestors:l,scrollableAncestorRects:d,delta:f,threshold:p}=e;const g=Ta({delta:f,disabled:!i}),[m,y]=zc(),v=u.useRef({x:0,y:0}),x=u.useRef({x:0,y:0}),C=u.useMemo(()=>{switch(n){case nt.Pointer:return a?{top:a.y,bottom:a.y,left:a.x,right:a.x}:null;case nt.DraggableRect:return o}},[n,o,a]),b=u.useRef(null),w=u.useCallback(()=>{const D=b.current;if(!D)return;const E=v.current.x*x.current.x,_=v.current.y*x.current.y;D.scrollBy(E,_)},[]),S=u.useMemo(()=>c===$t.TreeOrder?[...l].reverse():l,[c,l]);u.useEffect(()=>{if(!i||!l.length||!C){y();return}for(const D of S){if(r?.(D)===!1)continue;const E=l.indexOf(D),_=d[E];if(!_)continue;const{direction:T,speed:O}=ya(D,_,C,t,p);for(const j of["x","y"])g[j][T[j]]||(O[j]=0,T[j]=0);if(O.x>0||O.y>0){y(),b.current=D,m(w,s),v.current=O,x.current=T;return}}v.current={x:0,y:0},x.current={x:0,y:0},y()},[t,w,r,y,i,s,JSON.stringify(C),JSON.stringify(g),m,l,S,d,JSON.stringify(p)])}const Ia={x:{[A.Backward]:!1,[A.Forward]:!1},y:{[A.Backward]:!1,[A.Forward]:!1}};function Ta(e){let{delta:t,disabled:n}=e;const r=Lt(t);return ut(o=>{if(n||!r||!o)return Ia;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[A.Backward]:o.x[A.Backward]||i.x===-1,[A.Forward]:o.x[A.Forward]||i.x===1},y:{[A.Backward]:o.y[A.Backward]||i.y===-1,[A.Forward]:o.y[A.Forward]||i.y===1}}},[n,t,r])}function Oa(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return ut(o=>{var i;return t==null?null:(i=r??o)!=null?i:null},[r,t])}function Na(e,t){return u.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,i=o.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...i]},[]),[e,t])}var ct;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(ct||(ct={}));var jn;(function(e){e.Optimized="optimized"})(jn||(jn={}));const Mr=new Map;function Aa(e,t){let{dragging:n,dependencies:r,config:o}=t;const[i,s]=u.useState(null),{frequency:c,measure:a,strategy:l}=o,d=u.useRef(e),f=v(),p=st(f),g=u.useCallback(function(x){x===void 0&&(x=[]),!p.current&&s(C=>C===null?x:C.concat(x.filter(b=>!C.includes(b))))},[p]),m=u.useRef(null),y=ut(x=>{if(f&&!n)return Mr;if(!x||x===Mr||d.current!==e||i!=null){const C=new Map;for(let b of e){if(!b)continue;if(i&&i.length>0&&!i.includes(b.id)&&b.rect.current){C.set(b.id,b.rect.current);continue}const w=b.node.current,S=w?new Wn(a(w),w):null;b.rect.current=S,S&&C.set(b.id,S)}return C}return x},[e,i,n,f,a]);return u.useEffect(()=>{d.current=e},[e]),u.useEffect(()=>{f||g()},[n,f]),u.useEffect(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),u.useEffect(()=>{f||typeof c!="number"||m.current!==null||(m.current=setTimeout(()=>{g(),m.current=null},c))},[c,f,g,...r]),{droppableRects:y,measureDroppableContainers:g,measuringScheduled:i!=null};function v(){switch(l){case ct.Always:return!1;case ct.BeforeDragging:return n;default:return!n}}}function Un(e,t){return ut(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Ma(e,t){return Un(e,t)}function Pa(e){let{callback:t,disabled:n}=e;const r=Ht(t),o=u.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return u.useEffect(()=>()=>o?.disconnect(),[o]),o}function Yt(e){let{callback:t,disabled:n}=e;const r=Ht(t),o=u.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return u.useEffect(()=>()=>o?.disconnect(),[o]),o}function La(e){return new Wn(Ge(e),e)}function Pr(e,t,n){t===void 0&&(t=La);const[r,o]=u.useState(null);function i(){o(a=>{if(!e)return null;if(e.isConnected===!1){var l;return(l=a??n)!=null?l:null}const d=t(e);return JSON.stringify(a)===JSON.stringify(d)?a:d})}const s=Pa({callback(a){if(e)for(const l of a){const{type:d,target:f}=l;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){i();break}}}}),c=Yt({callback:i});return ee(()=>{i(),e?(c?.observe(e),s?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),s?.disconnect())},[e]),r}function Ba(e){const t=Un(e);return Co(e,t)}const Lr=[];function za(e){const t=u.useRef(e),n=ut(r=>e?r&&r!==Lr&&e&&t.current&&e.parentNode===t.current.parentNode?r:$n(e):Lr,[e]);return u.useEffect(()=>{t.current=e},[e]),n}function Fa(e){const[t,n]=u.useState(null),r=u.useRef(e),o=u.useCallback(i=>{const s=dn(i.target);s&&n(c=>c?(c.set(s,kn(s)),new Map(c)):null)},[]);return u.useEffect(()=>{const i=r.current;if(e!==i){s(i);const c=e.map(a=>{const l=dn(a);return l?(l.addEventListener("scroll",o,{passive:!0}),[l,kn(l)]):null}).filter(a=>a!=null);n(c.length?new Map(c):null),r.current=e}return()=>{s(e),s(i)};function s(c){c.forEach(a=>{const l=dn(a);l?.removeEventListener("scroll",o)})}},[o,e]),u.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,s)=>Be(i,s),te):Io(e):te,[e,t])}function Br(e,t){t===void 0&&(t=[]);const n=u.useRef(null);return u.useEffect(()=>{n.current=null},t),u.useEffect(()=>{const r=e!==te;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Bt(e,n.current):te}function $a(e){u.useEffect(()=>{if(!Vt)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function Wa(e,t){return u.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=s=>{i(s,t)},n},{}),[e,t])}function Mo(e){return u.useMemo(()=>e?ha(e):null,[e])}const zr=[];function Ga(e,t){t===void 0&&(t=Ge);const[n]=e,r=Mo(n?B(n):null),[o,i]=u.useState(zr);function s(){i(()=>e.length?e.map(a=>Ro(a)?r:new Wn(t(a),a)):zr)}const c=Yt({callback:s});return ee(()=>{c?.disconnect(),s(),e.forEach(a=>c?.observe(a))},[e]),o}function Po(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return lt(t)?t:e}function Ua(e){let{measure:t}=e;const[n,r]=u.useState(null),o=u.useCallback(l=>{for(const{target:d}of l)if(lt(d)){r(f=>{const p=t(d);return f?{...f,width:p.width,height:p.height}:p});break}},[t]),i=Yt({callback:o}),s=u.useCallback(l=>{const d=Po(l);i?.disconnect(),d&&i?.observe(d),r(d?t(d):null)},[t,i]),[c,a]=Pt(s);return u.useMemo(()=>({nodeRef:c,rect:n,setRef:a}),[n,c,a])}const Xa=[{sensor:Ao,options:{}},{sensor:No,options:{}}],qa={current:{}},Et={draggable:{measure:Tr},droppable:{measure:Tr,strategy:ct.WhileDragging,frequency:jn.Optimized},dragOverlay:{measure:Ge}};class rt extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Va={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new rt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ft},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Et,measureDroppableContainers:Ft,windowRect:null,measuringScheduled:!1},Lo={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ft,draggableNodes:new Map,over:null,measureDroppableContainers:Ft},ft=u.createContext(Lo),Bo=u.createContext(Va);function Ha(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new rt}}}function Ka(e,t){switch(t.type){case N.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case N.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case N.DragEnd:case N.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case N.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new rt(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case N.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new rt(e.droppable.containers);return s.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case N.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new rt(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function Ya(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=u.useContext(ft),i=Lt(r),s=Lt(n?.id);return u.useEffect(()=>{if(!t&&!r&&i&&s!=null){if(!Kt(i)||document.activeElement===i.target)return;const c=o.get(s);if(!c)return;const{activatorNode:a,node:l}=c;if(!a.current&&!l.current)return;requestAnimationFrame(()=>{for(const d of[a.current,l.current]){if(!d)continue;const f=Wc(d);if(f){f.focus();break}}})}},[r,t,o,s,i]),null}function zo(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,i)=>i({transform:o,...r}),n):n}function Ja(e){return u.useMemo(()=>({draggable:{...Et.draggable,...e?.draggable},droppable:{...Et.droppable,...e?.droppable},dragOverlay:{...Et.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function Qa(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const i=u.useRef(!1),{x:s,y:c}=typeof o=="boolean"?{x:o,y:o}:o;ee(()=>{if(!s&&!c||!t){i.current=!1;return}if(i.current||!r)return;const l=t?.node.current;if(!l||l.isConnected===!1)return;const d=n(l),f=Co(d,r);if(s||(f.x=0),c||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const p=Eo(l);p&&p.scrollBy({top:f.y,left:f.x})}},[t,s,c,r,n])}const Jt=u.createContext({...te,scaleX:1,scaleY:1});var xe;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(xe||(xe={}));const Xn=u.memo(function(t){var n,r,o,i;let{id:s,accessibility:c,autoScroll:a=!0,children:l,sensors:d=Xa,collisionDetection:f=ia,measuring:p,modifiers:g,...m}=t;const y=u.useReducer(Ka,void 0,Ha),[v,x]=y,[C,b]=Hc(),[w,S]=u.useState(xe.Uninitialized),D=w===xe.Initialized,{draggable:{active:E,nodes:_,translate:T},droppable:{containers:O}}=v,j=E!=null?_.get(E):null,J=u.useRef({initial:null,translated:null}),Q=u.useMemo(()=>{var L;return E!=null?{id:E,data:(L=j?.data)!=null?L:qa,rect:J}:null},[E,j]),ne=u.useRef(null),[Ue,ht]=u.useState(null),[F,pt]=u.useState(null),ce=st(m,Object.values(m)),Xe=dt("DndDescribedBy",s),gt=u.useMemo(()=>O.getEnabled(),[O]),z=Ja(p),{droppableRects:ae,measureDroppableContainers:Ce,measuringScheduled:qe}=Aa(gt,{dragging:D,dependencies:[T.x,T.y],config:z.droppable}),H=Oa(_,E),vt=u.useMemo(()=>F?zt(F):null,[F]),pe=si(),le=Ma(H,z.draggable.measure);Qa({activeNode:E!=null?_.get(E):null,config:pe.layoutShiftCompensation,initialRect:le,measure:z.draggable.measure});const I=Pr(H,z.draggable.measure,le),Ve=Pr(H?H.parentElement:null),re=u.useRef({activatorEvent:null,active:null,activeNode:H,collisionRect:null,collisions:null,droppableRects:ae,draggableNodes:_,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),je=O.getNodeFor((n=re.current.over)==null?void 0:n.id),ue=Ua({measure:z.dragOverlay.measure}),Ie=(r=ue.nodeRef.current)!=null?r:H,Te=D?(o=ue.rect)!=null?o:I:null,Yn=!!(ue.nodeRef.current&&ue.rect),Jn=Ba(Yn?null:I),Zt=Mo(Ie?B(Ie):null),ge=za(D?je??H:null),yt=Ga(ge),mt=zo(g,{transform:{x:T.x-Jn.x,y:T.y-Jn.y,scaleX:1,scaleY:1},activatorEvent:F,active:Q,activeNodeRect:I,containerNodeRect:Ve,draggingNodeRect:Te,over:re.current.over,overlayNodeRect:ue.rect,scrollableAncestors:ge,scrollableAncestorRects:yt,windowRect:Zt}),Qn=vt?Be(vt,T):null,Zn=Fa(ge),Zo=Br(Zn),ei=Br(Zn,[I]),Oe=Be(mt,Zo),Ne=Te?ua(Te,mt):null,He=Q&&Ne?f({active:Q,collisionRect:Ne,droppableRects:ae,droppableContainers:gt,pointerCoordinates:Qn}):null,er=ra(He,"id"),[ve,tr]=u.useState(null),ti=Yn?mt:Be(mt,ei),ni=aa(ti,(i=ve?.rect)!=null?i:null,I),en=u.useRef(null),nr=u.useCallback((L,$)=>{let{sensor:W,options:ye}=$;if(ne.current==null)return;const K=_.get(ne.current);if(!K)return;const G=L.nativeEvent,oe=new W({active:ne.current,activeNode:K,event:G,options:ye,context:re,onAbort(M){if(!_.get(M))return;const{onDragAbort:ie}=ce.current,de={id:M};ie?.(de),C({type:"onDragAbort",event:de})},onPending(M,me,ie,de){if(!_.get(M))return;const{onDragPending:Ye}=ce.current,be={id:M,constraint:me,initialCoordinates:ie,offset:de};Ye?.(be),C({type:"onDragPending",event:be})},onStart(M){const me=ne.current;if(me==null)return;const ie=_.get(me);if(!ie)return;const{onDragStart:de}=ce.current,Ke={activatorEvent:G,active:{id:me,data:ie.data,rect:J}};Le.unstable_batchedUpdates(()=>{de?.(Ke),S(xe.Initializing),x({type:N.DragStart,initialCoordinates:M,active:me}),C({type:"onDragStart",event:Ke}),ht(en.current),pt(G)})},onMove(M){x({type:N.DragMove,coordinates:M})},onEnd:Ae(N.DragEnd),onCancel:Ae(N.DragCancel)});en.current=oe;function Ae(M){return async function(){const{active:ie,collisions:de,over:Ke,scrollAdjustedTranslate:Ye}=re.current;let be=null;if(ie&&Ye){const{cancelDrop:Je}=ce.current;be={activatorEvent:G,active:ie,collisions:de,delta:Ye,over:Ke},M===N.DragEnd&&typeof Je=="function"&&await Promise.resolve(Je(be))&&(M=N.DragCancel)}ne.current=null,Le.unstable_batchedUpdates(()=>{x({type:M}),S(xe.Uninitialized),tr(null),ht(null),pt(null),en.current=null;const Je=M===N.DragEnd?"onDragEnd":"onDragCancel";if(be){const tn=ce.current[Je];tn?.(be),C({type:Je,event:be})}})}}},[_]),ri=u.useCallback((L,$)=>(W,ye)=>{const K=W.nativeEvent,G=_.get(ye);if(ne.current!==null||!G||K.dndKit||K.defaultPrevented)return;const oe={active:G};L(W,$.options,oe)===!0&&(K.dndKit={capturedBy:$.sensor},ne.current=ye,nr(W,$))},[_,nr]),rr=Na(d,ri);$a(d),ee(()=>{I&&w===xe.Initializing&&S(xe.Initialized)},[I,w]),u.useEffect(()=>{const{onDragMove:L}=ce.current,{active:$,activatorEvent:W,collisions:ye,over:K}=re.current;if(!$||!W)return;const G={active:$,activatorEvent:W,collisions:ye,delta:{x:Oe.x,y:Oe.y},over:K};Le.unstable_batchedUpdates(()=>{L?.(G),C({type:"onDragMove",event:G})})},[Oe.x,Oe.y]),u.useEffect(()=>{const{active:L,activatorEvent:$,collisions:W,droppableContainers:ye,scrollAdjustedTranslate:K}=re.current;if(!L||ne.current==null||!$||!K)return;const{onDragOver:G}=ce.current,oe=ye.get(er),Ae=oe&&oe.rect.current?{id:oe.id,rect:oe.rect.current,data:oe.data,disabled:oe.disabled}:null,M={active:L,activatorEvent:$,collisions:W,delta:{x:K.x,y:K.y},over:Ae};Le.unstable_batchedUpdates(()=>{tr(Ae),G?.(M),C({type:"onDragOver",event:M})})},[er]),ee(()=>{re.current={activatorEvent:F,active:Q,activeNode:H,collisionRect:Ne,collisions:He,droppableRects:ae,draggableNodes:_,draggingNode:Ie,draggingNodeRect:Te,droppableContainers:O,over:ve,scrollableAncestors:ge,scrollAdjustedTranslate:Oe},J.current={initial:Te,translated:Ne}},[Q,H,He,Ne,_,Ie,Te,ae,O,ve,ge,Oe]),ja({...pe,delta:T,draggingRect:Ne,pointerCoordinates:Qn,scrollableAncestors:ge,scrollableAncestorRects:yt});const oi=u.useMemo(()=>({active:Q,activeNode:H,activeNodeRect:I,activatorEvent:F,collisions:He,containerNodeRect:Ve,dragOverlay:ue,draggableNodes:_,droppableContainers:O,droppableRects:ae,over:ve,measureDroppableContainers:Ce,scrollableAncestors:ge,scrollableAncestorRects:yt,measuringConfiguration:z,measuringScheduled:qe,windowRect:Zt}),[Q,H,I,F,He,Ve,ue,_,O,ae,ve,Ce,ge,yt,z,qe,Zt]),ii=u.useMemo(()=>({activatorEvent:F,activators:rr,active:Q,activeNodeRect:I,ariaDescribedById:{draggable:Xe},dispatch:x,draggableNodes:_,over:ve,measureDroppableContainers:Ce}),[F,rr,Q,I,x,Xe,_,ve,Ce]);return R.createElement(So.Provider,{value:b},R.createElement(ft.Provider,{value:ii},R.createElement(Bo.Provider,{value:oi},R.createElement(Jt.Provider,{value:ni},l)),R.createElement(Ya,{disabled:c?.restoreFocus===!1})),R.createElement(Jc,{...c,hiddenTextDescribedById:Xe}));function si(){const L=Ue?.autoScrollEnabled===!1,$=typeof a=="object"?a.enabled===!1:a===!1,W=D&&!L&&!$;return typeof a=="object"?{...a,enabled:W}:{enabled:W}}}),Za=u.createContext(null),Fr="button",el="Draggable";function tl(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const i=dt(el),{activators:s,activatorEvent:c,active:a,activeNodeRect:l,ariaDescribedById:d,draggableNodes:f,over:p}=u.useContext(ft),{role:g=Fr,roleDescription:m="draggable",tabIndex:y=0}=o??{},v=a?.id===t,x=u.useContext(v?Jt:Za),[C,b]=Pt(),[w,S]=Pt(),D=Wa(s,t),E=st(n);ee(()=>(f.set(t,{id:t,key:i,node:C,activatorNode:w,data:E}),()=>{const T=f.get(t);T&&T.key===i&&f.delete(t)}),[f,t]);const _=u.useMemo(()=>({role:g,tabIndex:y,"aria-disabled":r,"aria-pressed":v&&g===Fr?!0:void 0,"aria-roledescription":m,"aria-describedby":d.draggable}),[r,g,y,v,m,d.draggable]);return{active:a,activatorEvent:c,activeNodeRect:l,attributes:_,isDragging:v,listeners:r?void 0:D,node:C,over:p,setNodeRef:b,setActivatorNodeRef:S,transform:x}}function Fo(){return u.useContext(Bo)}const nl="Droppable",rl={timeout:25};function $o(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const i=dt(nl),{active:s,dispatch:c,over:a,measureDroppableContainers:l}=u.useContext(ft),d=u.useRef({disabled:n}),f=u.useRef(!1),p=u.useRef(null),g=u.useRef(null),{disabled:m,updateMeasurementsFor:y,timeout:v}={...rl,...o},x=st(y??r),C=u.useCallback(()=>{if(!f.current){f.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{l(Array.isArray(x.current)?x.current:[x.current]),g.current=null},v)},[v]),b=Yt({callback:C,disabled:m||!s}),w=u.useCallback((_,T)=>{b&&(T&&(b.unobserve(T),f.current=!1),_&&b.observe(_))},[b]),[S,D]=Pt(w),E=st(t);return u.useEffect(()=>{!b||!S.current||(b.disconnect(),f.current=!1,b.observe(S.current))},[S,b]),u.useEffect(()=>(c({type:N.RegisterDroppable,element:{id:r,key:i,disabled:n,node:S,rect:p,data:E}}),()=>c({type:N.UnregisterDroppable,key:i,id:r})),[r]),u.useEffect(()=>{n!==d.current.disabled&&(c({type:N.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,c]),{active:s,rect:p,isOver:a?.id===r,node:S,over:a,setNodeRef:D}}function ol(e){let{animation:t,children:n}=e;const[r,o]=u.useState(null),[i,s]=u.useState(null),c=Lt(n);return!n&&!r&&c&&o(c),ee(()=>{if(!i)return;const a=r?.key,l=r?.props.id;if(a==null||l==null){o(null);return}Promise.resolve(t(l,i)).then(()=>{o(null)})},[t,r,i]),R.createElement(R.Fragment,null,n,r?u.cloneElement(r,{ref:s}):null)}const il={x:0,y:0,scaleX:1,scaleY:1};function sl(e){let{children:t}=e;return R.createElement(ft.Provider,{value:Lo},R.createElement(Jt.Provider,{value:il},t))}const cl={position:"fixed",touchAction:"none"},al=e=>Kt(e)?"transform 250ms ease":void 0,ll=u.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:o,children:i,className:s,rect:c,style:a,transform:l,transition:d=al}=e;if(!c)return null;const f=o?l:{...l,scaleX:1,scaleY:1},p={...cl,width:c.width,height:c.height,top:c.top,left:c.left,transform:se.Transform.toString(f),transformOrigin:o&&r?Zc(r,c):void 0,transition:typeof d=="function"?d(r):d,...a};return R.createElement(n,{className:s,style:p,ref:t},i)}),ul=e=>t=>{let{active:n,dragOverlay:r}=t;const o={},{styles:i,className:s}=e;if(i!=null&&i.active)for(const[c,a]of Object.entries(i.active))a!==void 0&&(o[c]=n.node.style.getPropertyValue(c),n.node.style.setProperty(c,a));if(i!=null&&i.dragOverlay)for(const[c,a]of Object.entries(i.dragOverlay))a!==void 0&&r.node.style.setProperty(c,a);return s!=null&&s.active&&n.node.classList.add(s.active),s!=null&&s.dragOverlay&&r.node.classList.add(s.dragOverlay),function(){for(const[a,l]of Object.entries(o))n.node.style.setProperty(a,l);s!=null&&s.active&&n.node.classList.remove(s.active)}},dl=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:se.Transform.toString(t)},{transform:se.Transform.toString(n)}]},fl={duration:250,easing:"ease",keyframes:dl,sideEffects:ul({styles:{active:{opacity:"0"}}})};function hl(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:o}=e;return Ht((i,s)=>{if(t===null)return;const c=n.get(i);if(!c)return;const a=c.node.current;if(!a)return;const l=Po(s);if(!l)return;const{transform:d}=B(s).getComputedStyle(s),f=_o(d);if(!f)return;const p=typeof t=="function"?t:pl(t);return To(a,o.draggable.measure),p({active:{id:i,data:c.data,node:a,rect:o.draggable.measure(a)},draggableNodes:n,dragOverlay:{node:s,rect:o.dragOverlay.measure(l)},droppableContainers:r,measuringConfiguration:o,transform:f})})}function pl(e){const{duration:t,easing:n,sideEffects:r,keyframes:o}={...fl,...e};return i=>{let{active:s,dragOverlay:c,transform:a,...l}=i;if(!t)return;const d={x:c.rect.left-s.rect.left,y:c.rect.top-s.rect.top},f={scaleX:a.scaleX!==1?s.rect.width*a.scaleX/c.rect.width:1,scaleY:a.scaleY!==1?s.rect.height*a.scaleY/c.rect.height:1},p={x:a.x-d.x,y:a.y-d.y,...f},g=o({...l,active:s,dragOverlay:c,transform:{initial:a,final:p}}),[m]=g,y=g[g.length-1];if(JSON.stringify(m)===JSON.stringify(y))return;const v=r?.({active:s,dragOverlay:c,...l}),x=c.node.animate(g,{duration:t,easing:n,fill:"forwards"});return new Promise(C=>{x.onfinish=()=>{v?.(),C()}})}}let $r=0;function gl(e){return u.useMemo(()=>{if(e!=null)return $r++,$r},[e])}const vl=R.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:o,transition:i,modifiers:s,wrapperElement:c="div",className:a,zIndex:l=999}=e;const{activatorEvent:d,active:f,activeNodeRect:p,containerNodeRect:g,draggableNodes:m,droppableContainers:y,dragOverlay:v,over:x,measuringConfiguration:C,scrollableAncestors:b,scrollableAncestorRects:w,windowRect:S}=Fo(),D=u.useContext(Jt),E=gl(f?.id),_=zo(s,{activatorEvent:d,active:f,activeNodeRect:p,containerNodeRect:g,draggingNodeRect:v.rect,over:x,overlayNodeRect:v.rect,scrollableAncestors:b,scrollableAncestorRects:w,transform:D,windowRect:S}),T=Un(p),O=hl({config:r,draggableNodes:m,droppableContainers:y,measuringConfiguration:C}),j=T?v.setRef:void 0;return R.createElement(sl,null,R.createElement(ol,{animation:O},f&&E?R.createElement(ll,{key:E,id:f.id,ref:j,as:c,activatorEvent:d,adjustScale:t,className:a,transition:i,rect:T,style:{zIndex:l,...o},transform:_},n):null))});function Wo(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function yl(e,t){return e.reduce((n,r,o)=>{const i=t.get(r);return i&&(n[o]=i),n},Array(e.length))}function wt(e){return e!==null&&e>=0}function ml(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function bl(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Go=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=Wo(t,r,n),s=t[o],c=i[o];return!c||!s?null:{x:c.left-s.left,y:c.top-s.top,scaleX:c.width/s.width,scaleY:c.height/s.height}},St={scaleX:1,scaleY:1},qn=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:s}=e;const c=(t=i[n])!=null?t:r;if(!c)return null;if(o===n){const l=i[s];return l?{x:0,y:n<s?l.top+l.height-(c.top+c.height):l.top-c.top,...St}:null}const a=xl(i,o,n);return o>n&&o<=s?{x:0,y:-c.height-a,...St}:o<n&&o>=s?{x:0,y:c.height+a,...St}:{x:0,y:0,...St}};function xl(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const Uo="Sortable",Xo=R.createContext({activeIndex:-1,containerId:Uo,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Go,disabled:{draggable:!1,droppable:!1}});function Vn(e){let{children:t,id:n,items:r,strategy:o=Go,disabled:i=!1}=e;const{active:s,dragOverlay:c,droppableRects:a,over:l,measureDroppableContainers:d}=Fo(),f=dt(Uo,n),p=c.rect!==null,g=u.useMemo(()=>r.map(D=>typeof D=="object"&&"id"in D?D.id:D),[r]),m=s!=null,y=s?g.indexOf(s.id):-1,v=l?g.indexOf(l.id):-1,x=u.useRef(g),C=!ml(g,x.current),b=v!==-1&&y===-1||C,w=bl(i);ee(()=>{C&&m&&d(g)},[C,g,m,d]),u.useEffect(()=>{x.current=g},[g]);const S=u.useMemo(()=>({activeIndex:y,containerId:f,disabled:w,disableTransforms:b,items:g,overIndex:v,useDragOverlay:p,sortedRects:yl(g,a),strategy:o}),[y,f,w.draggable,w.droppable,b,g,v,a,p,o]);return R.createElement(Xo.Provider,{value:S},t)}const wl=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return Wo(n,r,o).indexOf(t)},Sl=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:s,previousItems:c,previousContainerId:a,transition:l}=e;return!l||!r||c!==i&&o===s?!1:n?!0:s!==o&&t===a},Cl={duration:200,easing:"ease"},qo="transform",_l=se.Transition.toString({property:qo,duration:0,easing:"linear"}),El={roleDescription:"sortable"};function Dl(e){let{disabled:t,index:n,node:r,rect:o}=e;const[i,s]=u.useState(null),c=u.useRef(n);return ee(()=>{if(!t&&n!==c.current&&r.current){const a=o.current;if(a){const l=Ge(r.current,{ignoreTransform:!0}),d={x:a.left-l.left,y:a.top-l.top,scaleX:a.width/l.width,scaleY:a.height/l.height};(d.x||d.y)&&s(d)}}n!==c.current&&(c.current=n)},[t,n,r,o]),u.useEffect(()=>{i&&s(null)},[i]),i}function Hn(e){let{animateLayoutChanges:t=Sl,attributes:n,disabled:r,data:o,getNewIndex:i=wl,id:s,strategy:c,resizeObserverConfig:a,transition:l=Cl}=e;const{items:d,containerId:f,activeIndex:p,disabled:g,disableTransforms:m,sortedRects:y,overIndex:v,useDragOverlay:x,strategy:C}=u.useContext(Xo),b=kl(r,g),w=d.indexOf(s),S=u.useMemo(()=>({sortable:{containerId:f,index:w,items:d},...o}),[f,o,w,d]),D=u.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:E,node:_,isOver:T,setNodeRef:O}=$o({id:s,data:S,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:D,...a}}),{active:j,activatorEvent:J,activeNodeRect:Q,attributes:ne,setNodeRef:Ue,listeners:ht,isDragging:F,over:pt,setActivatorNodeRef:ce,transform:Xe}=tl({id:s,data:S,attributes:{...El,...n},disabled:b.draggable}),gt=Bc(O,Ue),z=!!j,ae=z&&!m&&wt(p)&&wt(v),Ce=!x&&F,qe=Ce&&ae?Xe:null,vt=ae?qe??(c??C)({rects:y,activeNodeRect:Q,activeIndex:p,overIndex:v,index:w}):null,pe=wt(p)&&wt(v)?i({id:s,items:d,activeIndex:p,overIndex:v}):w,le=j?.id,I=u.useRef({activeId:le,items:d,newIndex:pe,containerId:f}),Ve=d!==I.current.items,re=t({active:j,containerId:f,isDragging:F,isSorting:z,id:s,index:w,items:d,newIndex:I.current.newIndex,previousItems:I.current.items,previousContainerId:I.current.containerId,transition:l,wasDragging:I.current.activeId!=null}),je=Dl({disabled:!re,index:w,node:_,rect:E});return u.useEffect(()=>{z&&I.current.newIndex!==pe&&(I.current.newIndex=pe),f!==I.current.containerId&&(I.current.containerId=f),d!==I.current.items&&(I.current.items=d)},[z,pe,f,d]),u.useEffect(()=>{if(le===I.current.activeId)return;if(le!=null&&I.current.activeId==null){I.current.activeId=le;return}const Ie=setTimeout(()=>{I.current.activeId=le},50);return()=>clearTimeout(Ie)},[le]),{active:j,activeIndex:p,attributes:ne,data:S,rect:E,index:w,newIndex:pe,items:d,isOver:T,isSorting:z,isDragging:F,listeners:ht,node:_,overIndex:v,over:pt,setNodeRef:gt,setActivatorNodeRef:ce,setDroppableNodeRef:O,setDraggableNodeRef:Ue,transform:je??vt,transition:ue()};function ue(){if(je||Ve&&I.current.newIndex===w)return _l;if(!(Ce&&!Kt(J)||!l)&&(z||re))return se.Transition.toString({...l,property:qo})}}function kl(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}k.Down,k.Right,k.Up,k.Left;function Rl({tagData:e}){const t=Re(),n=ke(),r=n.tagIds.includes(e.id),o=Se(),{setNodeRef:i,attributes:s,listeners:c,transform:a,transition:l}=Hn({id:e.id}),d={transform:se.Translate.toString(a),transition:l};return h.jsxs("div",{className:Dr.editableTagDisplay,"data-selected":r,ref:i,style:d,children:[h.jsx(Bn,{...s,...c}),h.jsx(Oc,{value:e.color,onChange:f=>o(gr({...e,color:f}))}),h.jsx(Tt,{onValueUpdate:f=>o(gr({...e,content:f})),value:e.content,required:!0,element:(f,p,g,m)=>h.jsx(At,{className:Dr.contentField,value:f,onClick:p,onChange:g,onBlur:m,plainable:!0})}),h.jsx(Pn,{onClick:()=>o(oo({groupId:t.id,todoId:n.id,tagId:e.id})),toogled:r,elementOn:h.jsx(fo,{}),elementOff:h.jsx(at,{})}),h.jsx(vo,{onConfirm:()=>o(Ji(e.id)),title:"Удаление тега",message:"Вы точно хотите удалить тег?",triggerElement:f=>h.jsx(Fe,{onClick:f,children:h.jsx(ho,{})})})]})}const jl="_searchInputWrapper_1btzg_1",Il="_searchInput_1btzg_1",Tl="_icon_1btzg_18",Ol="_button_1btzg_30",Ct={searchInputWrapper:jl,searchInput:Il,icon:Tl,button:Ol},Nl="_textButton_1q38s_1",Al={textButton:Nl};function Vo({className:e,children:t,...n}){return h.jsx("button",{className:V(e,Al.textButton),...n,children:t})}function Ml({className:e,onClear:t,value:n,...r}){return h.jsxs("div",{className:V(e,Ct.searchInputWrapper),children:[h.jsx("input",{value:n,className:Ct.searchInput,placeholder:"Поиск...",...r}),h.jsx("div",{className:Ct.icon,children:h.jsx(rc,{})}),n&&h.jsx(Vo,{onClick:t,className:Ct.button,children:h.jsx(Mn,{})})]})}function Pl(){return h.jsxs("div",{className:En.tagsEditListFallback,children:[h.jsx(oc,{}),"Нет тегов"]})}const Wr=e=>e.replace(/\s+/g,"").toLowerCase();function Ll(e,t,n){const r={...e};return t.top+e.y<=n.top?r.y=n.top-t.top:t.bottom+e.y>=n.top+n.height&&(r.y=n.top+n.height-t.bottom),t.left+e.x<=n.left?r.x=n.left-t.left:t.right+e.x>=n.left+n.width&&(r.x=n.left+n.width-t.right),r}const Ho=e=>{let{containerNodeRect:t,draggingNodeRect:n,transform:r}=e;return!n||!t?r:Ll(r,n,t)},Ko=e=>{let{transform:t}=e;return{...t,x:0}},Bl="_stack_tne4z_1",zl={stack:Bl},Kn=u.forwardRef(({variant:e="vertical",className:t,children:n,...r},o)=>h.jsx("div",{ref:o,className:V(zl.stack,e,t),...r,children:n})),Fl=(e,t)=>Wr(e).includes(Wr(t));function $l({triggerElement:e}){const t=Se(),[n,r]=u.useState(""),o=qt(s=>s.tags.filter(c=>!n||Fl(c.content,n)));return h.jsxs(go,{triggerElement:e,title:"Теги",className:"wide",children:[h.jsx(Yo,{mode:"edit",tagsData:[]}),h.jsxs("div",{className:En.tagsBlock,children:[h.jsx(Ml,{value:n,onClear:()=>r(""),onChange:s=>r(s.target.value)}),h.jsx(Xn,{modifiers:[Ko,Ho],onDragEnd:i,children:h.jsx(Vn,{strategy:qn,items:o,children:h.jsxs(Kn,{className:En.tagsStack,children:[o.length===0&&h.jsx(Pl,{}),o.map(s=>h.jsx(Rl,{tagData:s},s.id))]})})}),h.jsxs(Mt,{className:"small",onClick:()=>t(Yi(n)),children:["Добавить тег",h.jsx(at,{})]})]})]});function i(s){const c=s.active?.id,a=s.over?.id;t(Qi({fromId:c,toId:a}))}}const Wl="_badge_ll28i_1",Gl={badge:Wl};function Qt({color:e="neutral",className:t,children:n,...r}){return h.jsx("div",{className:V(Gl.badge,e,t),...r,children:n})}function Ul({tagData:e,deletable:t=!1}){const n=Re(),r=ke(),o=Se();return h.jsxs(Qt,{color:e.color,children:[e.content,t&&h.jsx(Vo,{onClick:()=>o(oo({groupId:n.id,todoId:r.id,tagId:e.id})),children:h.jsx(Mn,{})})]})}function Xl(){const e=qt(n=>n.tags),t=ke().tagIds;return e.filter(n=>t.includes(n.id))}function ql(){return h.jsx(Qt,{children:"Нет тегов"})}function Yo({mode:e,className:t}){const n=Xl();return h.jsxs("div",{className:V(t,Er.tagStack),children:[n.length===0&&h.jsx(ql,{}),n.map(r=>h.jsx(Ul,{tagData:r,deletable:e==="edit"},r.id)),e==="show"&&h.jsx($l,{triggerElement:r=>h.jsx(Qt,{className:Er.tagsEditButton,onClick:r,children:h.jsx(at,{})})})]})}function Vl(e){const[t,n]=u.useState(!1),r=u.useRef(!1);return u.useEffect(()=>{const o=()=>{r.current?r.current=!1:n(!1)};return window.addEventListener(`signal-${e}`,o),()=>window.removeEventListener(`signal-${e}`,o)},[e]),u.useEffect(()=>{t&&(r.current=!0,window.dispatchEvent(new Event(`signal-${e}`)))},[t]),[t,n]}const Jo=u.createContext(void 0);function Hl({value:e,children:t}){return h.jsx(Jo.Provider,{value:e,children:t})}function Kl(){return u.useContext(Jo)}const Yl="_dropdownMenu_9b3yc_1",Jl="_menu_9b3yc_5",Ql="_action_9b3yc_22",In={dropdownMenu:Yl,menu:Jl,action:Ql};function Zl({onClick:e,children:t,...n}){const{setOpen:r}=Kl(),o=i=>{r(!1),e?.(i)};return h.jsx("button",{onClick:o,className:In.action,...n,children:t})}function eu({children:e}){const[t,n]=u.useState(!1),r=Ln(()=>n(!1));return h.jsx(Hl,{value:{open:t,setOpen:n},children:h.jsxs("div",{className:In.dropdownMenu,children:[h.jsx(Fe,{onClick:()=>n(!0),children:h.jsx(ec,{})}),t&&h.jsx("div",{ref:r,className:In.menu,children:e})]})})}const _t={Root:eu,Action:Zl},tu="_todoStepDisplay_v3sy0_1",nu="_contentField_v3sy0_17",ru="_completed_v3sy0_23",pn={todoStepDisplay:tu,contentField:nu,completed:ru},ou="_checkbox_1fray_1",iu={checkbox:ou};function su({...e}){return h.jsx("input",{className:iu.checkbox,type:"checkbox",...e})}function cu({stepData:e}){const t=Re(),n=ke(),r=Se(),{attributes:o,listeners:i,setNodeRef:s,transform:c,transition:a,isDragging:l}=Hn({id:e.id}),d={transform:se.Translate.toString(c),transition:a,zIndex:l?100:"auto"};return h.jsxs("div",{ref:s,className:pn.todoStepDisplay,style:d,children:[h.jsx(Bn,{...o,...i}),h.jsx(su,{checked:e.checked,onChange:()=>r(mr({groupId:t.id,todoId:n.id,step:{...e,checked:!e.checked}}))}),h.jsx(Tt,{required:!0,onValueUpdate:f=>r(mr({groupId:t.id,todoId:n.id,step:{...e,content:f}})),value:e.content,element:(f,p,g,m)=>h.jsx(At,{className:V(e.checked?pn.completed:"",pn.contentField),value:f,onClick:p,onChange:g,onBlur:m,plainable:!0,small:!0})}),h.jsx(Fe,{onClick:()=>r(is({groupId:t.id,todoId:n.id,stepId:e.id})),children:h.jsx(fo,{})})]})}function au({className:e}){const t=Re(),n=ke(),r=n.steps,o=Se(),i=s=>{const c=s.active?.id,a=s.over?.id;o(ss({groupId:t.id,todoId:n.id,fromId:c,toId:a}))};return h.jsx(Xn,{onDragEnd:i,modifiers:[Ko,Ho],children:h.jsx(Vn,{items:r,strategy:qn,id:n.id,children:h.jsx(Kn,{className:V(e),children:r.map(s=>h.jsx(cu,{stepData:s},s.id))})})})}function lu(){const e=Re(),t=qt(r=>r.todos),n=t.findIndex(r=>r.id===e.id);return{previous:n>0?t[n-1]:void 0,current:e,next:n<t.length-1?t[n+1]:void 0}}const Qo=u.forwardRef(({gripHandleProps:e,isDragging:t=!1,...n},r)=>{const{previous:o,current:i,next:s}=lu(),c=ke(),a=Se(),[l,d]=Vl("todo-expanded"),[f,p]=u.useState(!1);return u.useEffect(()=>{t&&d(!1)},[t]),h.jsxs(h.Fragment,{children:[h.jsx(vo,{onConfirm:()=>a(rs({groupId:i.id,todoId:c.id})),open:f,setOpen:p,title:"Удаление задачи",message:"Вы точно хотите удалить задачу?"}),h.jsxs("article",{className:Me.card,ref:r,...n,"data-dragged":t,children:[h.jsxs("div",{className:Me.headerBlock,children:[h.jsx(Bn,{variant:"all",...e}),h.jsx(Tt,{onValueUpdate:y=>a(yr({groupId:i.id,todo:{...c,title:y}})),value:c.title,required:!0,element:(y,v,x,C)=>h.jsx(At,{className:Me.titleField,value:y,onClick:v,onChange:x,onBlur:C,label:"Заголовок",plainable:!0})}),h.jsx(Pn,{toogled:l,onClick:()=>d(y=>!y),elementOff:h.jsx(lo,{}),elementOn:h.jsx(uo,{})}),h.jsxs(_t.Root,{children:[o&&h.jsxs(_t.Action,{onClick:m,children:[o.title,h.jsx(Qs,{})]}),s&&h.jsxs(_t.Action,{onClick:g,children:[s?.title,h.jsx(Zs,{})]}),h.jsxs(_t.Action,{onClick:()=>p(!0),children:["Удалить",h.jsx(ho,{})]})]})]}),h.jsx(po,{expanded:l,children:h.jsxs("div",{className:Me.detailsBlock,children:[h.jsx(Tt,{onValueUpdate:y=>a(yr({groupId:i.id,todo:{...c,content:y}})),value:c.content,element:(y,v,x,C)=>h.jsx(At,{value:y,onClick:v,onChange:x,onBlur:C,label:"Описание",fallback:"Нет описания",plainable:!0,allowMultiline:!0})}),h.jsxs("div",{className:Me.todoStepsBlock,children:[h.jsx(au,{}),h.jsxs(Mt,{className:"small",onClick:()=>a(os(i.id,c.id)),children:["Добавить шаг",h.jsx(at,{})]})]})]})}),h.jsx(Yo,{mode:"show",className:Me.tagsBlock,tagsData:[]})]})]});function g(){a(Cn({fromGroupId:i.id,toGroupId:s.id,fromTodoId:c.id,mode:"prepend"}))}function m(){a(Cn({fromGroupId:i.id,toGroupId:o.id,fromTodoId:c.id,mode:"prepend"}))}}),uu="_todoGroupDisplay_4n42y_1",du="_headerBlock_4n42y_6",fu="_counter_4n42y_34",gn={todoGroupDisplay:uu,headerBlock:du,counter:fu};function hu(){const e=ke(),{attributes:t,listeners:n,setNodeRef:r,transform:o,transition:i,isDragging:s}=Hn({id:e.id}),c={transform:se.Translate.toString(o),transition:i};return h.jsx(Qo,{ref:r,style:c,isDragging:s,gripHandleProps:{...t,...n}})}function pu(){const e=Re();return h.jsx(Vn,{strategy:qn,items:e.todos,id:e.id,children:h.jsx(Kn,{children:e.todos.map(t=>h.jsx(mo,{todoData:t,children:h.jsx(hu,{})},t.id))})})}function gu(){const e=Re(),t=Se(),[n,r]=u.useState(!1),{setNodeRef:o}=$o({id:e.id});u.useEffect(()=>{r(e.todos.length!==0)},[e.todos.length]);const i=e.todos.length===0;return h.jsxs("div",{className:gn.todoGroupDisplay,ref:o,children:[h.jsxs("div",{className:gn.headerBlock,children:[h.jsx(Pn,{disabled:i,toogled:n,onClick:()=>r(c=>!c),elementOff:h.jsx(lo,{}),elementOn:h.jsx(uo,{})}),h.jsx("h2",{children:e.title}),h.jsx(Qt,{className:gn.counter,color:e.color,children:e.todos.length}),h.jsx(Fe,{onClick:s,children:h.jsx(at,{})})]}),h.jsx(po,{expanded:n,children:h.jsx(pu,{})})]});function s(){r(!0),t(ns(e.id))}}function vu(e){const[t,n]=u.useState(e),r=u.useRef(t);return[t,i=>{r.current=i,n(i)},r]}function yu(){const e=qt(l=>l.todos),t=Se(),[n,r,o]=vu(null);return h.jsxs(Xn,{collisionDetection:ca,onDragStart:s,onDragEnd:a,onDragOver:c,children:[h.jsx("div",{className:gs.todoGroupList,children:e.map(l=>h.jsx(jr,{groupData:l,children:h.jsx(gu,{})},l.id))}),h.jsx(vl,{children:n&&h.jsx(jr,{groupData:n.group,children:h.jsx(mo,{todoData:n.todo,children:h.jsx(Qo,{})})})})]});function i(l,d){if(!o.current)return;const f=n?.group?.id,p=l.over?.data.current?.sortable?.containerId??l.over?.id;if(!p)return;const g=n?.todo?.id,m=l.over?.data.current?l.over?.id:void 0;(f!==p||d==="end"&&m&&g!==m)&&(console.log(p,g,m),t(Cn({fromGroupId:f,fromTodoId:g,toGroupId:p,toTodoId:m})),r(d==="over"?{todo:o.current.todo,group:e.find(y=>y.id===p)}:null))}function s(l){const d=l.active.data.current?.sortable.containerId,f=l.active.id,p=e.find(m=>m.id===d),g=p.todos.find(m=>m.id===f);r({todo:g,group:p})}function c(l){i(l,"over")}function a(l){i(l,"end")}}function bu(){return h.jsx(Os,{store:_n,children:h.jsx(yu,{})})}export{bu as default};
